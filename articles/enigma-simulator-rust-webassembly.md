---
title: "世界大戦時の暗号機 Enigma を Rust で実装し、WebAssembly 化してブラウザで動くシミュレータにした"
emoji: "🦁"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: [rust, webassembly, enigma]
published: true
---

Rust に入門したので、大戦時にドイツが利用していた暗号機エニグマを実装してみました。
せっかくの Rust なので WebAssembly にしてブラウザで動くようにしました。

:::message
エニグマの仕組みについての詳しい解説はありません。（idea記事）
:::

# 作ったもの
https://lemonadern.github.io/enigma-playground/

エニグマによる暗号化・復号がブラウザ上で体験できます。

:::details 使い方
エニグマでは、暗号化と復号を同じ方法で行います。手順は `Input に入力 ⇨ Encrypt ボタンを押す` だけです。

下部にある 「Rotor Settings」, 「PlugBoard Settings」 が暗号化の鍵になっています。暗号化されたメッセージと暗号化時の鍵があれば、復号が可能になります。
:::

エニグマのコードは[こちら](https://github.com/lemonadern/enigma-core/tree/master)


# Enigma / エニグマ とは

エニグマ は、第二次世界大戦時にドイツ軍などが利用していた電気機械式の暗号機です。
当時のドイツでは、エニグマによる暗号と電気通信とを組み合わせた暗号通信が運用されていました。
エニグマによる暗号を手作業で解読することはほとんど不可能でしたが、イギリスは戦時中に専用の機械を使った解読に成功してドイツ軍の通信内容を掌握したと言われています。

筆者がエニグマを知ったきっかけは、イギリスでのエニグマ解読が題材の『[イミテーション・ゲーム / エニグマと天才数学者の秘密](https://www.amazon.co.jp/%E3%82%A4%E3%83%9F%E3%83%86%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%BB%E3%82%B2%E3%83%BC%E3%83%A0%EF%BC%8F%E3%82%A8%E3%83%8B%E3%82%B0%E3%83%9E%E3%81%A8%E5%A4%A9%E6%89%8D%E6%95%B0%E5%AD%A6%E8%80%85%E3%81%AE%E7%A7%98%E5%AF%86-%E5%AD%97%E5%B9%95%E7%89%88-%E3%83%99%E3%83%8D%E3%83%87%E3%82%A3%E3%82%AF%E3%83%88%E3%83%BB%E3%82%AB%E3%83%B3%E3%83%90%E3%83%BC%E3%83%90%E3%83%83%E3%83%81/dp/B015S8Y08Q)』という映画でした。
ベネディクト・カンバーバッチ演じる主人公はチューリングマシンで有名なアラン・チューリングです。興味のある方はぜひ見てみてください。

# エニグマについて詳しく知りたい人のための参考資料
エニグマを実装してみたくなった人のために、参考になった資料をまとめておきます。

- [エニグマを実装してみた - Qiita](https://qiita.com/opengl-8080/items/995778d1cce43ed5babc)
  - Java によるエニグマ実装の記事
  - 換字式暗号の話や、エニグマの内部動作の図解もあり、わかりやすくコンパクトにまとまっている
  - UML図によるクラス構成や実際のコードを使いながら説明されており、とても丁寧な内容

- [エニグマ (暗号機) - Wikipedia](https://ja.wikipedia.org/wiki/%E3%82%A8%E3%83%8B%E3%82%B0%E3%83%9E_(%E6%9A%97%E5%8F%B7%E6%A9%9F))
  - 内部構造や歴史など、盛りだくさんの内容
  - 最初に読むにはハードかもしれない

- [暗号解読（上） (新潮文庫)](https://www.amazon.co.jp/%E6%9A%97%E5%8F%B7%E8%A7%A3%E8%AA%AD%E3%80%88%E4%B8%8A%E3%80%89-%E6%96%B0%E6%BD%AE%E6%96%87%E5%BA%AB-%E3%82%B5%E3%82%A4%E3%83%A2%E3%83%B3-%E3%82%B7%E3%83%B3/dp/410215972X/)
  - 人類と暗号の歴史を知ることができる本
  - エニグマの内部構造以外にも、暗号の歴史の観点から様々なドラマを知ることができる
  - 下巻ではRSA暗号や量子暗号について読むことができる
  - とても読みやすく、面白かった

- [甦るチューリング―コンピュータ科学に残された夢](https://www.amazon.co.jp/%E7%94%A6%E3%82%8B%E3%83%81%E3%83%A5%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E2%80%95%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E7%A7%91%E5%AD%A6%E3%81%AB%E6%AE%8B%E3%81%95%E3%82%8C%E3%81%9F%E5%A4%A2-%E6%98%9F%E9%87%8E-%E5%8A%9B/dp/4757100795/)
  - チューリングの生涯を知ることができる本
  - エニグマの内部構造についても書かれている
  - 数学が嫌いな人が読むのは厳しいかも



# 感想
エニグマについて調べていたら、暗号の歴史や、チューリングについても知ることができて楽しかったです。
Rust も好きになったのでもっと勉強します。
